<agm-map [latitude]="state.coordinates?.lat" [longitude]="state.coordinates?.lng" [streetViewControl]="false" [maxZoom]="18"
  [minZoom]="10" [zoom]="state.zoom" [styles]="mapStyles" [zoomControl]="false" (zoomChange)="state.zoom = $event" (centerChange)="onMapCenterChange($event)"
  (boundsChange)="mapBounds = $event">
  <agm-marker *ngFor="let place of places" [latitude]="place.coordinates.latitude" [longitude]="place.coordinates.longitude"
    [iconUrl]="'assets/icons/marker.png'" [title]="place.name" (mouseOver)="place.markerHover = true" (mouseOut)="place.markerHover = false">
  </agm-marker>
</agm-map>

<div class="filter">
  <p>Map</p>
  <div class="fields">
    <p class="checkbox-field">
      <input type="checkbox" class="filled-in" id="filled-in-box" [checked]="updateOnDrag" (change)="updateOnDrag = !updateOnDrag"
      />
      <label for="filled-in-box">Update when dragging</label>
    </p>
  </div>
  <!-- <div class="switch flex ml-auto">
    <label>
      update when dragging
      <input type="checkbox" [checked]="updateOnDrag" (change)="updateOnDrag = !updateOnDrag">
      <span class="lever"></span>
    </label>
  </div> -->
</div>


<div class="filter">
  <p>Establishment Type</p>
  <div class="fields">
    <p class="radio-field" *ngFor="let category of state.categories">
      <input type="radio" name="establishment" [id]="category.alias" [checked]="category.title === state.selectedCategory.title"
        (change)="onCategoryChanged(category)">
      <label [for]="category.alias">{{ category.title }}</label>
    </p>
  </div>
</div>

<div class="filter">
  <p>Price</p>
  <div class="fields">
    <p class="checkbox-field" *ngFor="let price of state.prices">
      <input type="checkbox" [id]="price.alias" class="filled-in" [checked]="price.checked" (change)="updatePrices(price)">
      <label [for]="price.alias">{{ price.title }}</label>
    </p>
  </div>
</div>
<div class="filter" *ngIf="state.selectedCategory.alias === 'restaurants'">
  <p>Cuisine</p>
  <!-- <div class="more" (click)="openModal()">
    <span>Show More</span>
    <i class="mdi mdi-menu-down"></i>
  </div> -->
  <div class="fields">
    <p class="checkbox-field" *ngFor="let index of state.displayedCuisinesIndex">
      <input type="checkbox" [id]="state.cuisines[index].alias" class="filled-in" [checked]="state.cuisines[index].checked" (change)="updateCuisines(state.cuisines[index])">
      <label [for]="state.cuisines[index].alias">{{ state.cuisines[index].title }}</label>
    </p>
  </div>
</div>